# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤

> –î–æ–∫—É–º–µ–Ω—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ ¬´–°—É–Ω–¥—É–∫–∏, –∫–ª—é—á–∏ –∏ –º–∏–Ω–∏-–∏–≥—Ä–∞ "–î–µ–∫–∞"¬ª (`docs/concept/game-mechanics-chests-keys-deck-minigame.md`) –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤/–ø—Ä–µ–¥–º–µ—Ç–æ–≤ (`docs/specs/items-initial.md`, `docs/specs/classifiers.md`).
> –¶–µ–ª—å ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ **Production Service** –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã.

## üìå –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏

| ‚Ññ | –®–∞–≥ | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|-----|----------|--------|
| 1 | –°–±–æ—Ä —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–µ—Ü–µ–ø—Ç–æ–≤ | –ò–∑—É—á–∏—Ç—å –∫–æ–Ω—Ü–µ–ø—Ç, –≤—ã–¥–µ–ª–∏—Ç—å –≥—Ä—É–ø–ø—ã —Ä–µ—Ü–µ–ø—Ç–æ–≤, —É—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–±—ä—ë–º –ø–µ—Ä–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω |
| 2 | –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ—Ü–µ–ø—Ç–∞ | –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç JSON/SQL –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏, –º–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π –Ω–∞ –º–æ–¥–µ–ª—å `production_service.internal.models.recipe` | ‚úÖ |
| 3 | –¢–∞–±–ª–∏—Ü–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤ ¬´–ü–µ—Ä–µ–ø–ª–∞–≤–∫–∞ —Å—ã—Ä—å—è¬ª | –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –¥–ª—è 4 –±–∞–∑–æ–≤—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –ø–µ—Ä–µ–ø–ª–∞–≤–∫–∏ (–ø–ª–∞–Ω–∫–∞, –±–ª–æ–∫, —Å–ª–∏—Ç–æ–∫, –±—Ä–∏–ª–ª–∏–∞–Ω—Ç) | ‚úÖ |
| 4 | –¢–∞–±–ª–∏—Ü–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤ ¬´–ö—Ä–∞—Ñ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤¬ª | –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã –∫—Ä–∞—Ñ—Ç–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–ª–æ–ø–∞—Ç–∞, —Å–µ—Ä–ø, —Ç–æ–ø–æ—Ä, –∫–∏—Ä–∫–∞) –¥–ª—è 4 —É—Ä–æ–≤–Ω–µ–π –∫–∞—á–µ—Å—Ç–≤–∞ | ‚úÖ |
| 5 | –¢–∞–±–ª–∏—Ü–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤ ¬´–û—Ç–∫—Ä—ã—Ç–∏–µ —Å—É–Ω–¥—É–∫–æ–≤¬ª | –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—É–Ω–¥—É–∫–æ–≤ S/M/L –∏ Blueprint; –ø–æ—Ç—Ä–µ–±–ª—è—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–ª—é—á –∏ —Å—É–Ω–¥—É–∫, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–∞–≥—Ä–∞–¥—ã | ‚¨ú |
| 6 | –¢–∞–±–ª–∏—Ü–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤ ¬´–í—ã–¥–∞—á–∞ —Å—É–Ω–¥—É–∫–æ–≤ (reward)¬ª | –†–µ—Ü–µ–ø—Ç—ã –±–µ–∑ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–¥–∞—é—Ç —Å–ª—É—á–∞–π–Ω—ã–π —Å—É–Ω–¥—É–∫ —Å –¥–Ω–µ–≤–Ω—ã–º–∏ –ª–∏–º–∏—Ç–∞–º–∏ (–º–∏–Ω–∏-–∏–≥—Ä–∞ ¬´–î–µ–∫–∞¬ª) | ‚úÖ |
| 7 | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ª–∏–º–∏—Ç–æ–≤ –∏ —Å–ª–æ—Ç–æ–≤ | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã –∑–∞–ø—É—Å–∫–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–ª–æ—Ç–∞–º –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤ | ‚¨ú |
| 8 | –í–∞–ª–∏–¥–∞—Ü–∏—è —Å PO | –ü–µ—Ä–µ–¥–∞—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–æ–¥—É–∫—Ç-–æ—É–Ω–µ—Ä—É, —Å–æ–±—Ä–∞—Ç—å —Ñ–∏–¥–±–µ–∫ | ‚¨ú |
| 9 | –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ | –°–æ–∑–¥–∞—Ç—å SQL/fixtures –∏ Pull Request | ‚¨ú |

## –®–∞–≥ 1 ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–±–æ—Ä–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π ‚úÖ

–ù–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ —Ä–∞–∑–¥–µ–ª–∞ ¬´–°–∏—Å—Ç–µ–º–∞ –∫—É–∑–Ω–∏—Ü—ã¬ª –≤ –∫–æ–Ω—Ü–µ–ø—Ç–µ –≤—ã–¥–µ–ª–µ–Ω—ã **–¥–≤–µ –∫–ª—é—á–µ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –Ω–∞ —Å—Ç–∞—Ä—Ç–µ:

1. **–ü–µ—Ä–µ–ø–ª–∞–≤–∫–∞ —Å—ã—Ä—å—è** (`smelting`)
   - 4 —Ä–µ—Ü–µ–ø—Ç–∞: –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–π –±—Ä—É—Å–æ–∫, –∫–∞–º–µ–Ω–Ω—ã–π –±–ª–æ–∫, –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π —Å–ª–∏—Ç–æ–∫, –±—Ä–∏–ª–ª–∏–∞–Ω—Ç
   - –ü–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã –≤ –ø–æ–ª—É-—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã/—É—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–∞–≥–µ–Ω—Ç—ã –¥–ª—è –∫–∞—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞
   - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 1 —á–∞—Å –∑–∞ –ø–∞—Ä—Ç–∏—é (N √ó —á–∞—Å–æ–≤ –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–µ)
2. **–ö—Ä–∞—Ñ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** (`crafting`)
   - –ë–∞–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —á–µ—Ä—Ç–µ–∂–∞—Ö –∏–∑ Blueprint-—Å—É–Ω–¥—É–∫–æ–≤
   - 4 —Ç–∏–ø–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ √ó 4 —É—Ä–æ–≤–Ω—è –∫–∞—á–µ—Å—Ç–≤–∞ = 16 —Ä–µ—Ü–µ–ø—Ç–æ–≤
   - –¢—Ä–µ–±—É—é—Ç 4 –∑–∞–≥–æ—Ç–æ–≤–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
   - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 12 —á–∞—Å–æ–≤ –∑–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

3. **–û—Ç–∫—Ä—ã—Ç–∏–µ —Å—É–Ω–¥—É–∫–æ–≤** (`chest_opening`)
   - 4 —Ä–µ—Ü–µ–ø—Ç–∞ –¥–ª—è —Å—É–Ω–¥—É–∫–æ–≤: —Ä–µ—Å—É—Ä—Å–Ω—ã–π (`resource_chest_*`), —Ä–µ–∞–≥–µ–Ω—Ç–Ω—ã–π (`reagent_chest_*`), —É—Å–∫–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π (`booster_chest_*`) –∏ Blueprint (`blueprint_chest`)
   - –ü–æ—Ç—Ä–µ–±–ª—è—é—Ç 1 —Å—É–Ω–¥—É–∫ + 1 –∫–ª—é—á —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞/—Ç–∏–ø–∞
   - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (0 —Å–µ–∫), –Ω–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞–¥–µ—Ä–∂–∫–∞ claim –ª–æ–≥–∏–∫–∏

4. **–í—ã–¥–∞—á–∞ —Å—É–Ω–¥—É–∫–æ–≤ (reward)** (`chest_reward`)
   - –†–µ—Ü–µ–ø—Ç—ã –±–µ–∑ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∏–Ω–∏—Ü–∏–∏—Ä—É–µ–º—ã–µ —Å–∏—Å—Ç–µ–º–æ–π (–º–∏–Ω–∏-–∏–≥—Ä–∞ ¬´–î–µ–∫–∞¬ª, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è)
   - –ü—Ä–æ–∏–∑–≤–æ–¥—è—Ç –æ–¥–∏–Ω —Å—É–Ω–¥—É–∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞/—Ä–∞–∑–º–µ—Ä–∞
   - –õ–∏–º–∏—Ç—ã: –¥–Ω–µ–≤–Ω—ã–µ/–Ω–µ–¥–µ–ª—å–Ω—ã–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã, –Ω–æ **–Ω–µ –≤—Ö–æ–¥—è—Ç** –≤ —Ç–µ–∫—É—â–∏–π –æ–±—ä—ë–º:
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ–∑–æ–Ω–Ω—ã–µ –∏–ª–∏ —ç–≤–µ–Ω—Ç-—Ä–µ—Ü–µ–ø—Ç—ã ‚Äî –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–∏–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏

–°–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –±—É–¥–µ—Ç —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è **—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–∞ —Ä–µ—Ü–µ–ø—Ç–∞** (–®–∞–≥ 2). –ü–æ—Å–ª–µ –µ—ë —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Ä–µ—Ü–µ–ø—Ç–æ–≤. 

## –®–∞–≥ 2 ‚Äî –§–æ—Ä–º–∞—Ç –æ–±—ä–µ–∫—Ç–∞ —Ä–µ—Ü–µ–ø—Ç–∞ ‚úÖ

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π YAML-—Ñ–æ—Ä–º–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SQL-—Ñ–∏–∫—Å—Ç—É—Ä –∏–ª–∏ –ø—Ä—è–º–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∞–¥–º–∏–Ω-API Production Service. –§–æ—Ä–º–∞—Ç –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –º–∞–ø–ø–∏—Ç—Å—è –Ω–∞ –º–æ–¥–µ–ª—å `ProductionRecipe` –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (`RecipeInputItem`, `RecipeOutputItem`, `RecipeLimit`).

```yaml
recipes:
  - id: 4b885302-6574-48f3-b533-1d2a8b2da55a   # UUID —Ä–µ—Ü–µ–ø—Ç–∞ (—Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π)
    operation_class_code: smelting            # ‚Üî models.OperationClassSmelting
    is_active: true
    production_time_seconds: 3600            # 1 —á–∞—Å

    translations:
      - language_code: en
        field_name: name
        content: "Wooden Plank Smelting"
      - language_code: ru
        field_name: name
        content: "–ü–µ—Ä–µ–ø–ª–∞–≤–∫–∞: –î–µ—Ä–µ–≤—è–Ω–Ω—ã–π –±—Ä—É—Å–æ–∫"
      - language_code: en
        field_name: description
        content: "Convert 100 wood and 4 discs into 1 wooden plank"
      - language_code: ru
        field_name: description
        content: "–ü–µ—Ä–µ–ø–ª–∞–≤–∏—Ç—å 100 –¥—Ä–µ–≤–µ—Å–∏–Ω—ã –∏ 4 –¥–∏—Å–∫–∞ –≤ 1 –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–π –±—Ä—É—Å–æ–∫"

    input_items:
      - item_code: wood                      # ‚Üî docs/specs/items-initial.md ‚Üí `wood`
        quantity: 100
      - item_code: disc                      # —Ä–µ–∞–≥–µ–Ω—Ç
        quantity: 4

    output_items:
      - item_code: wooden_plank              # —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π –ø—Ä–µ–¥–º–µ—Ç (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ items-initial v2)
        min_quantity: 1                      # min –∏ max –æ–¥–∏–Ω–∞–∫–æ–≤—ã ‚Üí —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
        max_quantity: 1
        probability_percent: 100             # 100% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å

    limits:
      - limit_type: per_day                  # ‚Üî CL014 `per_day`
        limit_object: recipe_execution       # ‚Üî CL015 `recipe_execution`
        limit_quantity: 20                   # –Ω–µ –±–æ–ª–µ–µ 20 –∑–∞–ø—É—Å–∫–æ–≤ –≤ –¥–µ–Ω—å

```

### –ü—Ä–∞–≤–∏–ª–∞ –º–∞–ø–ø–∏–Ω–≥–∞ –ø–æ–ª–µ–π

1. **`id`** ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π UUID –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π.
2. **`operation_class_code`** ‚Äî —Å—Ç—Ä–æ–∫–∞ –∏–∑ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ `production_operation_class` (—Å–º. `models` constants).
3. **–ü–µ—Ä–µ–≤–æ–¥—ã** (`translations`) –≥—Ä—É–∑—è—Ç—Å—è –≤ `i18n.translations` —Å `entity_type = 'recipe'`; —Ç–∞–±–ª–∏—Ü–∞ `production.recipes` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç `name`/`description`.
4. **`input_items[].item_code`** –∏ **`output_items[].item_code`** —É–∫–∞–∑—ã–≤–∞—é—Ç `code` –ø—Ä–µ–¥–º–µ—Ç–∞ –∏–∑ `items-initial.md`. –ü—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ `item_id` —á–µ—Ä–µ–∑ lookup.
5. **–ö–æ–ª–ª–µ–∫—Ü–∏–∏/–∫–∞—á–µ—Å—Ç–≤–æ** (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è):
   - `collection_code` / `fixed_collection_code`
   - `quality_level_code` / `fixed_quality_level_code`
   –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –±–µ—Ä—ë—Ç—Å—è `base` –∫–æ–ª–ª–µ–∫—Ü–∏—è/–∫–∞—á–µ—Å—Ç–≤–æ.
6. **`output_items`** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –≤—ã–ø–∞–¥–µ–Ω–∏—è. –ï—Å–ª–∏ `probability_percent < 100`, —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç roll-–º–∞–≥–∞–∑–∏–Ω –ø—Ä–∏ pre-calculate.
7. **`limits`** –æ–ø–∏—Å—ã–≤–∞—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã; –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç, –ª–∏–º–∏—Ç–æ–≤ –Ω–µ—Ç.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π

1. YAML –ø–∞—Ä—Å–∏—Ç—Å—è —É—Ç–∏–ª–∏—Ç–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `scripts/`), –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö `production.recipes`, `production.recipe_input_items`, `production.recipe_output_items`, `production.recipe_limits`.
2. –ü–µ—Ä–µ–≤–æ–¥—ã –∏–∑ –±–ª–æ–∫–∞ `translations` –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ `i18n.translations` –≤ –µ–¥–∏–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ unit-—Ç–µ—Å—Ç–∞—Ö (–¥—É–±–ª–∏–∫–∞—Ç—ã UUID, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å—Å—ã–ª–æ–∫, –Ω–∞–ª–∏—á–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ —è–∑—ã–∫–∞).

---

–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Ä–µ—Ü–µ–ø—Ç–æ–≤ ¬´–ü–µ—Ä–µ–ø–ª–∞–≤–∫–∞ —Å—ã—Ä—å—è¬ª (–®–∞–≥ 3).

### üìñ –ü—Ä–∏–º–µ—Ä —Ä–µ—Ü–µ–ø—Ç–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏

–ù–∏–∂–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç **¬´–û—Ç–∫—Ä—ã—Ç–∏–µ —Å—É–Ω–¥—É–∫–∞ —á–µ—Ä—Ç–µ–∂–µ–π¬ª**, –≤–∫–ª—é—á–∞—é—â–∏–π –≤—Å–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–æ–ª—è.

```yaml
recipes:
  - id: 3b99d82d-0c77-4da9-9c6c-fb8b3b07c4e4
    operation_class_code: chest_opening
    is_active: true
    production_time_seconds: 0          # –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

    translations:
      - language_code: en
        field_name: name
        content: "Blueprint Chest Opening"
      - language_code: ru
        field_name: name
        content: "–û—Ç–∫—Ä—ã—Ç–∏–µ —Å—É–Ω–¥—É–∫–∞ —á–µ—Ä—Ç–µ–∂–µ–π"
      - language_code: en
        field_name: description
        content: "Open a blueprint chest with a blueprint key to obtain a random seasonal blueprint."
      - language_code: ru
        field_name: description
        content: "–û—Ç–∫—Ä—ã—Ç—å —Å—É–Ω–¥—É–∫ —á–µ—Ä—Ç–µ–∂–µ–π –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–ª—é—á–∞, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —Å–µ–∑–æ–Ω–Ω—ã–π —á–µ—Ä—Ç–µ–∂."

    # INPUTS
    input_items:
      # 0 ‚Äî —Å–∞–º —Å—É–Ω–¥—É–∫, –∫–æ–ª–ª–µ–∫—Ü–∏—è (—Å–µ–∑–æ–Ω) –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∞ –≤ chest item
      - item_code: blueprint_chest
        quantity: 1

      # 1 ‚Äî –∫–ª—é—á, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ small/medium/large –∑–¥–µ—Å—å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
      - item_code: blueprint_key
        quantity: 1

    # OUTPUTS
    output_items:
      # –ì—Ä—É–ø–ø–∞ "main" ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —á–µ—Ä—Ç–µ–∂ (probability 100)
      - item_code: blueprint_shovel
        min_quantity: 1
        max_quantity: 1
        probability_percent: 25          # 25% —à–∞–Ω—Å
        output_group: main               # –≥—Ä—É–ø–ø–∞ –¥–ª—è –≤–∑–∞–∏–º–Ω–æ-–∏—Å–∫–ª—é—á–∞—é—â–µ–≥–æ —Ä–∞—Å—á—ë—Ç–∞
        collection_source_input_index: 0 # –Ω–∞—Å–ª–µ–¥—É–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏—é (—Å–µ–∑–æ–Ω) –∏–∑ —Å—É–Ω–¥—É–∫–∞
        fixed_quality_level_code: base   # –∫–∞—á–µ—Å—Ç–≤–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ

      - item_code: blueprint_pickaxe
        min_quantity: 1
        max_quantity: 1
        probability_percent: 25
        output_group: main
        collection_source_input_index: 0
        fixed_quality_level_code: base

      - item_code: blueprint_axe
        min_quantity: 1
        max_quantity: 1
        probability_percent: 25
        output_group: main
        collection_source_input_index: 0
        fixed_quality_level_code: base

      - item_code: blueprint_sickle
        min_quantity: 1
        max_quantity: 1
        probability_percent: 25
        output_group: main
        collection_source_input_index: 0
        fixed_quality_level_code: base

      # –ì—Ä—É–ø–ø–∞ "bonus" ‚Äî —Ä–µ–¥–∫–∏–π –±–æ–Ω—É—Å-—Å—É–Ω–¥—É–∫ —Å 5% —à–∞–Ω—Å–æ–º
      - item_code: resource_chest_s
        min_quantity: 1
        max_quantity: 1
        probability_percent: 5
        output_group: bonus              # –æ—Ç–¥–µ–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∞ => —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç "main"
        fixed_collection_code: base
        fixed_quality_level_code: small

    # LIMITS
    limits:
      # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏–µ 20 —Å—É–Ω–¥—É–∫–æ–≤ —á–µ—Ä—Ç–µ–∂–µ–π –≤ –¥–µ–Ω—å
      - limit_type: per_day
        limit_object: recipe_execution
        limit_quantity: 20

      # –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–µ—Ä—Ç–µ–∂–∞ –∑–∞ —Å–µ–∑–æ–Ω (–ø—Ä–∏–º–µ—Ä –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –∫–µ–π—Å–∞)
      - limit_type: per_season
        limit_object: item_receipt
        target_item_code: blueprint_pickaxe   # –±—É–¥–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ UUID
        limit_quantity: 3
```

–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –ø—Ä–∏–º–µ—Ä–∞:

1. **`output_group`** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–±–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö 
   –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Ä–æ–≤–Ω–æ _–æ–¥–∏–Ω_ (–∏–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ) –ø—Ä–µ–¥–º–µ—Ç. –î–ª—è –≥—Ä—É–ø–ø—ã `main` —Å—É–º–º–∞—Ä–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å ‚â§100 %; —Å–∏—Å—Ç–µ–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç roll. –î–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –≥—Ä—É–ø–ø (`bonus`) roll –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, —Ç.–µ. –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç –∏–∑ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã.
2. **`collection_source_input_index`** —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ–∑–æ–Ω) –±–µ—Ä—ë—Ç—Å—è –∏–∑ –ø—Ä–µ–¥–º–µ—Ç–∞-–≤—Ö–æ–¥–∞ —Å –∏–Ω–¥–µ–∫—Å–æ–º 0 (—Å—É–Ω–¥—É–∫). –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–µ–∑–æ–Ω–Ω—ã—Ö –¥—Ä–æ–ø-—Ç–∞–±–ª–∏—Ü –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤.
3. **`fixed_quality_level_code`** –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–¥–∞—ë—Ç –∫–∞—á–µ—Å—Ç–≤–æ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—Ö–æ–¥–æ–≤.
4. –í –±–ª–æ–∫–µ `limits` –ø–æ–∫–∞–∑–∞–Ω –ø—Ä–∏–º–µ—Ä –∫–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–∞–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—É—Å–∫–æ–≤ —Ä–µ—Ü–µ–ø—Ç–∞, —Ç–∞–∫ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–µ–Ω–∏–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ –≤ —Ä–∞–º–∫–∞—Ö —Å–µ–∑–æ–Ω–∞.

‚úÖ –®–∞–≥ 3 –≤—ã–ø–æ–ª–Ω–µ–Ω: —Å–º. —Ñ–∞–π–ª `docs/specs/recipes/smelting-recipes.yaml`.
‚úÖ –®–∞–≥ 4 –≤—ã–ø–æ–ª–Ω–µ–Ω: —Å–º. —Ñ–∞–π–ª `docs/specs/recipes/crafting-recipes.yaml`.
‚úÖ –®–∞–≥ 6 –≤—ã–ø–æ–ª–Ω–µ–Ω: —Å–º. —Ñ–∞–π–ª `docs/specs/recipes/reward-chest-recipe.yaml`.

--- 