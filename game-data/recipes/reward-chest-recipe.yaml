# Daily Chest Reward Recipe Specification
# Updated: 2025-06-28 to match actual implementation in migrations/dev-data/inventory-service/004_insert_reward_chest_recipe.sql
# 
# Changes from original:
# - operation_class_code: chest_reward -> chest_opening
# - Added recipe code: daily_chest_reward
# - Updated probabilities to fractional values (NUMERIC(5,2) precision)
# - Used item_id instead of item_code for precise references
# - Updated limits structure to match actual DB schema
# - Total probability: 100.00% (50.50% resource + 29.50% reagent + 10.00% booster + 10.00% blueprint)

recipes:
  - id: 9b9a4a62-7e79-4f1c-8dbe-62784be4c9d2
    code: daily_chest_reward
    operation_class_code: chest_opening
    is_active: true
    production_time_seconds: 0

    input_items: []  # Рецепт не требует входных предметов

    output_items:
      # Resource chests (50.50% total)
      - item_id: 9421cc9f-a56e-4c7d-b636-4c8fdfef7166  # resource_chest_s
        min_quantity: 1
        max_quantity: 1
        probability_percent: 30.50
        output_group: main
        fixed_quality_level_code: small

      - item_id: 9421cc9f-a56e-4c7d-b636-4c8fdfef7166  # resource_chest_m
        min_quantity: 1
        max_quantity: 1
        probability_percent: 15.25
        output_group: main
        fixed_quality_level_code: medium

      - item_id: 9421cc9f-a56e-4c7d-b636-4c8fdfef7166  # resource_chest_l
        min_quantity: 1
        max_quantity: 1
        probability_percent: 4.75
        output_group: main
        fixed_quality_level_code: large

      # Reagent chests (29.50% total)
      - item_id: a2e20668-380d-43eb-87db-cb19e4fed0ab  # reagent_chest_s
        min_quantity: 1
        max_quantity: 1
        probability_percent: 18.50
        output_group: main
        fixed_quality_level_code: small

      - item_id: a2e20668-380d-43eb-87db-cb19e4fed0ab  # reagent_chest_m
        min_quantity: 1
        max_quantity: 1
        probability_percent: 8.75
        output_group: main
        fixed_quality_level_code: medium

      - item_id: a2e20668-380d-43eb-87db-cb19e4fed0ab  # reagent_chest_l
        min_quantity: 1
        max_quantity: 1
        probability_percent: 2.25
        output_group: main
        fixed_quality_level_code: large

      # Booster chests (10.00% total)
      - item_id: 3b5c8322-c00d-44e2-875e-d5bd9097d1c4  # booster_chest_s
        min_quantity: 1
        max_quantity: 1
        probability_percent: 6.50
        output_group: main
        fixed_quality_level_code: small

      - item_id: 3b5c8322-c00d-44e2-875e-d5bd9097d1c4  # booster_chest_m
        min_quantity: 1
        max_quantity: 1
        probability_percent: 2.75
        output_group: main
        fixed_quality_level_code: medium

      - item_id: 3b5c8322-c00d-44e2-875e-d5bd9097d1c4  # booster_chest_l
        min_quantity: 1
        max_quantity: 1
        probability_percent: 0.75
        output_group: main
        fixed_quality_level_code: large

      # Blueprint chest (10.00% total)
      - item_id: 012d9076-a37d-4e9d-a49a-fbc7a07e5bd9  # blueprint_chest
        min_quantity: 1
        max_quantity: 1
        probability_percent: 10.00
        output_group: main
        # no fixed_quality_level_code for blueprint chest

    translations:
      - language_code: en
        field_name: name
        content: "Daily Chest Reward"
      - language_code: ru
        field_name: name
        content: "Дневная награда: Сундук"
      - language_code: en
        field_name: description
        content: "Receive a random chest as a daily reward from the Deck minigame."
      - language_code: ru
        field_name: description
        content: "Получите случайный сундук как дневную награду из мини-игры \"Дека\"."

    limits:
      - limit_type: daily
        max_uses: 10 